{
  "client_id": "d1012444bb54443db9fe264096e964f9",
  "prompt": {
    "15": {
      "inputs": {
        "text": [
          "43",
          0
        ],
        "clip": [
          "36",
          1
        ]
      },
      "class_type": "CLIPTextEncode",
      "_meta": {
        "title": "CLIP文本编码器"
      }
    },
    "16": {
      "inputs": {
        "text": [
          "50",
          0
        ],
        "clip": [
          "36",
          1
        ]
      },
      "class_type": "CLIPTextEncode",
      "_meta": {
        "title": "CLIP文本编码器"
      }
    },
    "19": {
      "inputs": {
        "samples": [
          "40",
          0
        ],
        "vae": [
          "36",
          2
        ]
      },
      "class_type": "VAEDecode",
      "_meta": {
        "title": "VAE解码"
      }
    },
    "26": {
      "inputs": {
        "model": "dart-v2-sft"
      },
      "class_type": "DanbooruTagsTransformerLoader",
      "_meta": {
        "title": "Dart Load"
      }
    },
    "27": {
      "inputs": {
        "copyright": "",
        "character": "",
        "rating": "general",
        "aspect_ratio": "wide",
        "length": "long",
        "general": "1girl,solo,",
        "identity": "none"
      },
      "class_type": "DanbooruTagsTransformerComposePromptV2",
      "_meta": {
        "title": "Dart Compose Prompt V2"
      }
    },
    "36": {
      "inputs": {
        "ckpt_name": "waiNSFWIllustrious_v150.safetensors"
      },
      "class_type": "CheckpointLoaderSimple",
      "_meta": {
        "title": "Checkpoint加载器(简易)"
      }
    },
    "37": {
      "inputs": {
        "width": 1280,
        "height": 720,
        "batch_size": 1
      },
      "class_type": "EmptyLatentImage",
      "_meta": {
        "title": "空Latent"
      }
    },
    "40": {
      "inputs": {
        "seed": 932996999690871,
        "steps": 30,
        "cfg": 7.5,
        "sampler_name": "euler_ancestral",
        "scheduler": "simple",
        "denoise": 1,
        "model": [
          "36",
          0
        ],
        "positive": [
          "15",
          0
        ],
        "negative": [
          "16",
          0
        ],
        "latent_image": [
          "37",
          0
        ]
      },
      "class_type": "KSampler",
      "_meta": {
        "title": "K采样器"
      }
    },
    "43": {
      "inputs": {
        "prompt": [
          "27",
          0
        ],
        "seed": 3945587738,
        "animagine_order": true,
        "ban_tags": [
          "50",
          0
        ],
        "remove_tags": [
          "50",
          0
        ],
        "model": [
          "26",
          0
        ],
        "tokenizer": [
          "26",
          1
        ]
      },
      "class_type": "DanbooruTagsTransformerGenerate",
      "_meta": {
        "title": "Dart Generate"
      }
    },
    "45": {
      "inputs": {
        "upscale_model": [
          "46",
          0
        ],
        "image": [
          "19",
          0
        ]
      },
      "class_type": "ImageUpscaleWithModel",
      "_meta": {
        "title": "图像通过模型放大"
      }
    },
    "46": {
      "inputs": {
        "model_name": "4x-AnimeSharp.pth"
      },
      "class_type": "UpscaleModelLoader",
      "_meta": {
        "title": "放大模型加载器"
      }
    },
    "47": {
      "inputs": {
        "images": [
          "45",
          0
        ]
      },
      "class_type": "PreviewImage",
      "_meta": {
        "title": "预览图像"
      }
    },
    "50": {
      "inputs": {
        "value": "score_4, score_5, score_6, source_pony, source_furry, monochrome, realstic, rough sketch, fewer digits, extra digits,water mask,\nlowres, mosaic censoring, stripe, censored, bad anatomy, bad hands, text, error, missing fingers, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, username, blurry,"
      },
      "class_type": "PrimitiveStringMultiline",
      "_meta": {
        "title": "字符串（多行）"
      }
    }
  },
  "extra_data": {
    "extra_pnginfo": {
      "workflow": {
        "id": "0ed6ea76-8564-4044-839f-2d3da05cda2f",
        "revision": 0,
        "last_node_id": 51,
        "last_link_id": 84,
        "nodes": [
          {
            "id": 15,
            "type": "CLIPTextEncode",
            "pos": [
              445.5079069546282,
              413.18023988841594
            ],
            "size": [
              252,
              104
            ],
            "flags": {},
            "order": 8,
            "mode": 0,
            "inputs": [
              {
                "label": "CLIP",
                "name": "clip",
                "type": "CLIP",
                "link": 57
              },
              {
                "name": "text",
                "type": "STRING",
                "widget": {
                  "name": "text"
                },
                "link": 72
              }
            ],
            "outputs": [
              {
                "label": "条件",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "slot_index": 0,
                "links": [
                  63
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.71",
              "Node name for S&R": "CLIPTextEncode"
            },
            "widgets_values": [
              ""
            ]
          },
          {
            "id": 16,
            "type": "CLIPTextEncode",
            "pos": [
              468.3217645210684,
              870.9483299235901
            ],
            "size": [
              315.453125,
              104
            ],
            "flags": {},
            "order": 6,
            "mode": 0,
            "inputs": [
              {
                "label": "CLIP",
                "name": "clip",
                "type": "CLIP",
                "link": 52
              },
              {
                "name": "text",
                "type": "STRING",
                "widget": {
                  "name": "text"
                },
                "link": 81
              }
            ],
            "outputs": [
              {
                "label": "条件",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "links": [
                  64
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.71",
              "Node name for S&R": "CLIPTextEncode"
            },
            "widgets_values": [
              ""
            ]
          },
          {
            "id": 19,
            "type": "VAEDecode",
            "pos": [
              1126.9800289117813,
              400.9982954772048
            ],
            "size": [
              252,
              72
            ],
            "flags": {},
            "order": 10,
            "mode": 0,
            "inputs": [
              {
                "label": "Latent",
                "name": "samples",
                "type": "LATENT",
                "link": 62
              },
              {
                "label": "VAE",
                "name": "vae",
                "type": "VAE",
                "link": 54
              }
            ],
            "outputs": [
              {
                "label": "图像",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  76
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.71",
              "Node name for S&R": "VAEDecode"
            },
            "widgets_values": []
          },
          {
            "id": 26,
            "type": "DanbooruTagsTransformerLoader",
            "pos": [
              -485.71987101424145,
              355.2039041438356
            ],
            "size": [
              353.5625,
              106
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [
              {
                "label": "model",
                "name": "model",
                "type": "COMBO",
                "widget": {
                  "name": "model"
                },
                "link": null
              }
            ],
            "outputs": [
              {
                "label": "DART_MODEL",
                "name": "DART_MODEL",
                "type": "DART_MODEL",
                "slot_index": 0,
                "links": [
                  70
                ]
              },
              {
                "label": "DART_TOKENIZER",
                "name": "DART_TOKENIZER",
                "type": "DART_TOKENIZER",
                "slot_index": 1,
                "links": [
                  71
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfyui-dart",
              "ver": "953511a30e4896ba17840161ad4d9aeeaaa9e0bc",
              "Node name for S&R": "DanbooruTagsTransformerLoader"
            },
            "widgets_values": [
              "dart-v2-moe-sft"
            ]
          },
          {
            "id": 27,
            "type": "DanbooruTagsTransformerComposePromptV2",
            "pos": [
              -547.4493491066394,
              615.2378748225341
            ],
            "size": [
              350.328125,
              308
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "label": "copyright",
                "name": "copyright",
                "type": "STRING",
                "widget": {
                  "name": "copyright"
                },
                "link": null
              },
              {
                "label": "character",
                "name": "character",
                "type": "STRING",
                "widget": {
                  "name": "character"
                },
                "link": null
              },
              {
                "label": "rating",
                "name": "rating",
                "type": "COMBO",
                "widget": {
                  "name": "rating"
                },
                "link": null
              },
              {
                "label": "aspect_ratio",
                "name": "aspect_ratio",
                "type": "COMBO",
                "widget": {
                  "name": "aspect_ratio"
                },
                "link": null
              },
              {
                "label": "length",
                "name": "length",
                "type": "COMBO",
                "widget": {
                  "name": "length"
                },
                "link": null
              },
              {
                "label": "general",
                "name": "general",
                "type": "STRING",
                "widget": {
                  "name": "general"
                },
                "link": null
              },
              {
                "label": "identity",
                "name": "identity",
                "type": "COMBO",
                "widget": {
                  "name": "identity"
                },
                "link": null
              }
            ],
            "outputs": [
              {
                "label": "STRING",
                "name": "STRING",
                "type": "STRING",
                "slot_index": 0,
                "links": [
                  74
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfyui-dart",
              "ver": "953511a30e4896ba17840161ad4d9aeeaaa9e0bc",
              "Node name for S&R": "DanbooruTagsTransformerComposePromptV2"
            },
            "widgets_values": [
              "",
              "",
              "general",
              "wide",
              "long",
              "1girl,solo,",
              "none"
            ]
          },
          {
            "id": 36,
            "type": "CheckpointLoaderSimple",
            "pos": [
              -94.19185002637289,
              827.2444906222087
            ],
            "size": [
              472.78125,
              130
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "label": "模型",
                "name": "MODEL",
                "type": "MODEL",
                "links": [
                  65
                ]
              },
              {
                "label": "CLIP",
                "name": "CLIP",
                "type": "CLIP",
                "links": [
                  52,
                  57
                ]
              },
              {
                "label": "VAE",
                "name": "VAE",
                "type": "VAE",
                "links": [
                  54
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.71",
              "Node name for S&R": "CheckpointLoaderSimple"
            },
            "widgets_values": [
              "waiNSFWIllustrious_v150.safetensors"
            ]
          },
          {
            "id": 37,
            "type": "EmptyLatentImage",
            "pos": [
              433.03570483859335,
              577.5514482187583
            ],
            "size": [
              270,
              150
            ],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "label": "Latent",
                "name": "LATENT",
                "type": "LATENT",
                "links": [
                  61
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.71",
              "Node name for S&R": "EmptyLatentImage"
            },
            "widgets_values": [
              1280,
              720,
              1
            ]
          },
          {
            "id": 40,
            "type": "KSampler",
            "pos": [
              751.4539182526439,
              400.09499084254594
            ],
            "size": [
              340.328125,
              324
            ],
            "flags": {},
            "order": 9,
            "mode": 0,
            "inputs": [
              {
                "label": "模型",
                "name": "model",
                "type": "MODEL",
                "link": 65
              },
              {
                "label": "正面条件",
                "name": "positive",
                "type": "CONDITIONING",
                "link": 63
              },
              {
                "label": "负面条件",
                "name": "negative",
                "type": "CONDITIONING",
                "link": 64
              },
              {
                "label": "Latent",
                "name": "latent_image",
                "type": "LATENT",
                "link": 61
              }
            ],
            "outputs": [
              {
                "label": "Latent",
                "name": "LATENT",
                "type": "LATENT",
                "links": [
                  62
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.71",
              "Node name for S&R": "KSampler"
            },
            "widgets_values": [
              932996999690871,
              "randomize",
              30,
              7.5,
              "euler_ancestral",
              "simple",
              1
            ]
          },
          {
            "id": 43,
            "type": "DanbooruTagsTransformerGenerate",
            "pos": [
              -89.3008699195343,
              395.2040872804607
            ],
            "size": [
              462.703125,
              332.00000000000006
            ],
            "flags": {},
            "order": 7,
            "mode": 0,
            "inputs": [
              {
                "label": "model",
                "name": "model",
                "type": "DART_MODEL",
                "link": 70
              },
              {
                "label": "tokenizer",
                "name": "tokenizer",
                "type": "DART_TOKENIZER",
                "link": 71
              },
              {
                "label": "setting",
                "name": "setting",
                "shape": 7,
                "type": "DART SETTING",
                "link": null
              },
              {
                "label": "prompt",
                "name": "prompt",
                "type": "STRING",
                "widget": {
                  "name": "prompt"
                },
                "link": 74
              },
              {
                "label": "seed",
                "name": "seed",
                "type": "INT",
                "widget": {
                  "name": "seed"
                },
                "link": null
              },
              {
                "label": "animagine_order",
                "name": "animagine_order",
                "type": "BOOLEAN",
                "widget": {
                  "name": "animagine_order"
                },
                "link": null
              },
              {
                "label": "ban_tags",
                "name": "ban_tags",
                "shape": 7,
                "type": "STRING",
                "widget": {
                  "name": "ban_tags"
                },
                "link": 83
              },
              {
                "label": "remove_tags",
                "name": "remove_tags",
                "shape": 7,
                "type": "STRING",
                "widget": {
                  "name": "remove_tags"
                },
                "link": 82
              }
            ],
            "outputs": [
              {
                "label": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  72
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfyui-dart",
              "ver": "953511a30e4896ba17840161ad4d9aeeaaa9e0bc",
              "Node name for S&R": "DanbooruTagsTransformerGenerate"
            },
            "widgets_values": [
              "<|bos|><rating>rating:sfw, rating:general</rating><copyright>original</copyright><character></character><general><|long|>1girl<|input_end|>",
              3945587738,
              "randomize",
              true,
              "speech bubble, english text,,",
              ""
            ]
          },
          {
            "id": 45,
            "type": "ImageUpscaleWithModel",
            "pos": [
              1477.081493556131,
              374.0095722441897
            ],
            "size": [
              225,
              72
            ],
            "flags": {},
            "order": 11,
            "mode": 0,
            "inputs": [
              {
                "label": "放大模型",
                "name": "upscale_model",
                "type": "UPSCALE_MODEL",
                "link": 77
              },
              {
                "label": "图像",
                "name": "image",
                "type": "IMAGE",
                "link": 76
              }
            ],
            "outputs": [
              {
                "label": "图像",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  78
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.71",
              "Node name for S&R": "ImageUpscaleWithModel"
            },
            "widgets_values": []
          },
          {
            "id": 46,
            "type": "UpscaleModelLoader",
            "pos": [
              817.6709473291817,
              837.4028979330178
            ],
            "size": [
              270,
              82
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "label": "放大模型",
                "name": "UPSCALE_MODEL",
                "type": "UPSCALE_MODEL",
                "links": [
                  77
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.71",
              "Node name for S&R": "UpscaleModelLoader"
            },
            "widgets_values": [
              "4x-AnimeSharp.pth"
            ]
          },
          {
            "id": 47,
            "type": "PreviewImage",
            "pos": [
              1616.6639131380286,
              599.8747304607742
            ],
            "size": [
              698.171875,
              537.390625
            ],
            "flags": {},
            "order": 12,
            "mode": 0,
            "inputs": [
              {
                "label": "图像",
                "name": "images",
                "type": "IMAGE",
                "link": 78
              }
            ],
            "outputs": [],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.71",
              "Node name for S&R": "PreviewImage"
            },
            "widgets_values": []
          },
          {
            "id": 50,
            "type": "PrimitiveStringMultiline",
            "pos": [
              -559.9680904327306,
              1074.4295441811034
            ],
            "size": [
              400,
              104
            ],
            "flags": {},
            "order": 5,
            "mode": 0,
            "inputs": [
              {
                "label": "value",
                "name": "value",
                "type": "STRING",
                "widget": {
                  "name": "value"
                },
                "link": null
              }
            ],
            "outputs": [
              {
                "label": "STRING",
                "name": "STRING",
                "type": "STRING",
                "links": [
                  81,
                  82,
                  83
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.71",
              "Node name for S&R": "PrimitiveStringMultiline"
            },
            "widgets_values": [
              "score_4, score_5, score_6, source_pony, source_furry, monochrome, realstic, rough sketch, fewer digits, extra digits,water mask,\nlowres, mosaic censoring, stripe, censored, bad anatomy, bad hands, text, error, missing fingers, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, username, blurry,"
            ]
          }
        ],
        "links": [
          [
            52,
            36,
            1,
            16,
            0,
            "CLIP"
          ],
          [
            54,
            36,
            2,
            19,
            1,
            "VAE"
          ],
          [
            57,
            36,
            1,
            15,
            0,
            "CLIP"
          ],
          [
            61,
            37,
            0,
            40,
            3,
            "LATENT"
          ],
          [
            62,
            40,
            0,
            19,
            0,
            "LATENT"
          ],
          [
            63,
            15,
            0,
            40,
            1,
            "CONDITIONING"
          ],
          [
            64,
            16,
            0,
            40,
            2,
            "CONDITIONING"
          ],
          [
            65,
            36,
            0,
            40,
            0,
            "MODEL"
          ],
          [
            70,
            26,
            0,
            43,
            0,
            "DART_MODEL"
          ],
          [
            71,
            26,
            1,
            43,
            1,
            "DART_TOKENIZER"
          ],
          [
            72,
            43,
            0,
            15,
            1,
            "STRING"
          ],
          [
            74,
            27,
            0,
            43,
            3,
            "STRING"
          ],
          [
            76,
            19,
            0,
            45,
            1,
            "IMAGE"
          ],
          [
            77,
            46,
            0,
            45,
            0,
            "UPSCALE_MODEL"
          ],
          [
            78,
            45,
            0,
            47,
            0,
            "IMAGE"
          ],
          [
            81,
            50,
            0,
            16,
            1,
            "STRING"
          ],
          [
            82,
            50,
            0,
            43,
            7,
            "STRING"
          ],
          [
            83,
            50,
            0,
            43,
            6,
            "STRING"
          ]
        ],
        "groups": [],
        "config": {},
        "extra": {
          "ds": {
            "scale": 0.79737870400521,
            "offset": [
              941.8443155600476,
              223.19734558448158
            ]
          },
          "workflowRendererVersion": "Vue",
          "frontendVersion": "1.33.5",
          "VHS_latentpreview": false,
          "VHS_latentpreviewrate": 0,
          "VHS_MetadataImage": true,
          "VHS_KeepIntermediate": true
        },
        "version": 0.4
      }
    }
  }
}